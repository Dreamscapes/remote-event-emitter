---
sudo: false
dist: trusty
language: node_js
node_js:
  - '10'
  - '11'

cache:
  directories:
    - node_modules

before_install:
  - touch package.json

install:
  - make install
  - make precompile

script:
  - make lint
  - make test

after_success:
  - make coverage
  - cat coverage/lcov.info | node_modules/.bin/coveralls

deploy:
  provider: npm
  email: rr.rossmann@gmail.com
  api_key:
    secure: KIZzGg3b90wDFML11kaq3XPbw7mr6eJkqWaPURbLls/RjxCw/FkvB3OAyQf337ya59Se7iY9okHSC77S0h1MYd56txA+jw6jOlE904vsXIE/pvN8k6kPz1Ch1JBa2STsaqeuNI+4/bFa9RcstA1bHOQCUmISLD8Fkm4Gm3cDYCujIFJfiU5iwyapHsU0cp5v1k+GfJvVpQwSTm96gUDmVthafnTHwGm1ejXXaQtEWN0d3HFQYjRhuQkAGeVy8dYYAhJxv2EqQZin7oyazRmTZNXgzG+htuS6dsDOKexQEfuwfLxIh7p04hoxKlxJquBmvx8JNr9K015sTc2vu6J+mCE1FpHuGQiDQUoYdR3gZwGVDdUnnHb3Qp4/CB2YFa3u95t7iqfNULxUU+PdOaNP8gZn8faGJU6++xdqxrhoLHceJBdhmI0fMGMuKbWbeRtx2Z3mYk01T0nsgamqp9W5KZBm6PeTVow+LF8PDYFlJFQWXJ4m6bCqUg5iWC4tT+i4zzymEmHGVTsQ6HBOq2TYybowex8I3lSQuZwwxXqpMWxwP0ATWZnbYbQHVFIdCSwzMP634U5JWnb0+NwgIhXoS+rYv5d5WdpLgi/sSbI94ulGT1TpgKVr4owVIfbUzYl0+DJnAM6UkmVXARuv/hTbmwYSoWP4ffNErRUZUChdJ7I=
  on:
    tags: true
    repo: Dreamscapes/remote-event-emitter
