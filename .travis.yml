---
sudo: false
dist: trusty
language: node_js
node_js:
  - '10'
  - '11'

cache:
  directories:
    - node_modules

before_install:
  - touch package.json

install:
  - make install
  - make precompile

script:
  - make lint
  - make test

after_success:
  - make coverage
  - cat coverage/lcov.info | node_modules/.bin/coveralls

deploy:
  skip_cleanup: true
  provider: npm
  email: rr.rossmann@gmail.com
  api_key:
    secure: qaTeGXjAHUf7t4HVig/szaM1QaHBVXr7Cahfi6ExfA308lSrlh3wpmlNEDqh6mNtFZPE5ia2+jqNpQcYNrqoXQWD6Uf+DOQRSNqULZMBIObq/yfXF+hkaH1lnZpidpLa5AVgEMdwirTpnRuSnL+Z+nW6FOEJ3GxxYEHh0/aTKNbXuSOyiTSZZ8qb9baOsCJyMGaI99uV8sacACfGcV2MmwUF2GsTM2ssdoT++gu+ELz4nGNnNHyjrinA9qKECl7BZGd7QXg6AIUtZoo8FKz9l03HLD8X0hir5777ZjL2wxrc77ZfQBL08lZG8rsTdAyIQn9/M2Lg8YRqxHgkpeAdY9522Lbz1MM/AOjInIsY41o0gQWLpOdfEBRpqoiPFrayN0LdLsiZ4dGzfgyzvOMP8V1r2Sec5VQWf5ExNEXQ5xY77y+sZxhW612PIK6s0k4XtU4DoWzIqKTfoPvUxSbknaV9Llsh5tfCx2Bbzad1HROHmLwAF0ECdyT/SBaiFp6qImalLOCQ9BJVsVH4C2cpY5N0N//E3bLdygT5Li9OHcPhuuIeQtmyqHWgWtvgIhWW/egEZcCj7EsS9AE1Qcss/ADngTPfYPA716vswYKrfAdiyzhhZwfgro5Q7ym8/Q5ZVGjOTikgBRdZQ4QETV/6tYSlI5NyIR6WqtqAOhOSU0s=
  on:
    tags: true
    node_js: 10
    repo: Dreamscapes/remote-event-emitter
